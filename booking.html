<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Your Appointment - Ghana Salon</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <meta name="theme-color" content="#FF6B35">
</head>
<body>
    <!-- Header -->
    <header class="header modern-header">
        <div class="container">
            <div class="logo">
                <span class="logo-icon">‚úÇÔ∏è</span>
                <h1>Ghana Salon</h1>
            </div>
            <nav class="nav-menu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="booking.html" class="nav-link active">Book Now</a>
                <a href="profile.html" class="nav-link">My Profile</a>
                <a href="admin.html" class="nav-link">Admin</a>
                <select id="languageSelector" class="language-selector">
                    <option value="en">üá¨üáß English</option>
                    <option value="tw">üá¨üá≠ Twi</option>
                    <option value="ga">üá¨üá≠ Ga</option>
                    <option value="ee">üá¨üá≠ Ewe</option>
                </select>
            </nav>
            <button class="mobile-menu-toggle">
                <span></span><span></span><span></span>
            </button>
        </div>
    </header>

    <!-- Booking Hero Section -->
    <section class="booking-hero">
        <div class="container">
            <div class="back-button">
                <a href="index.html" class="btn btn-secondary">‚Üê Back to Home</a>
            </div>
            <div class="booking-hero-content">
                <div id="businessHeader" class="business-info">
                    <h1>Book Your Appointment</h1>
                    <p>Fill in your details and select your preferred service</p>
                </div>
                <div class="booking-image">
                    <img src="https://images.unsplash.com/photo-1562322140-8baeececf3df?w=400&h=300&fit=crop" alt="Salon services">
                </div>
            </div>
        </div>
    </section>

    <!-- Booking Form Section -->
    <section class="booking-section">
        <div class="container">
            <div class="booking-layout">
                <!-- Main Booking Form -->
                <div class="booking-form-container">
                    <!-- Progress Steps -->
                    <div class="booking-progress">
                        <div class="progress-step active" data-step="1">
                            <div class="step-circle">1</div>
                            <span>Your Info</span>
                        </div>
                        <div class="progress-line"></div>
                        <div class="progress-step" data-step="2">
                            <div class="step-circle">2</div>
                            <span>Service</span>
                        </div>
                        <div class="progress-line"></div>
                        <div class="progress-step" data-step="3">
                            <div class="step-circle">3</div>
                            <span>Date & Time</span>
                        </div>
                        <div class="progress-line"></div>
                        <div class="progress-step" data-step="4">
                            <div class="step-circle">4</div>
                            <span>Confirm</span>
                        </div>
                    </div>

                    <!-- Booking Form -->
                    <form id="bookingForm" class="modern-booking-form">
                        <!-- Step 1: Customer Information -->
                        <div class="form-section active" data-section="1">
                            <div class="section-header">
                                <h3>üìã Your Information</h3>
                                <p>Tell us a bit about yourself</p>
                            </div>

                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="customerName">Full Name *</label>
                                    <input type="text" id="customerName" required placeholder="Kwame Mensah">
                                </div>

                                <div class="form-group">
                                    <label for="customerPhone">Phone Number *</label>
                                    <input type="tel" id="customerPhone" required placeholder="+233 XX XXX XXXX">
                                </div>

                                <div class="form-group">
                                    <label for="customerEmail">Email (Optional)</label>
                                    <input type="email" id="customerEmail" placeholder="kwame@email.com">
                                </div>

                                <div class="form-group">
                                    <label for="gpsAddress">GhanaPostGPS Address (Optional)</label>
                                    <input type="text" id="gpsAddress" placeholder="GA-123-4567">
                                    <small>Your digital address for better directions</small>
                                </div>
                            </div>
                        </div>

                        <!-- Step 2: Service Selection -->
                        <div class="form-section" data-section="2">
                            <div class="section-header">
                                <h3>üíá Choose Your Service</h3>
                                <p>Select the service you want</p>
                            </div>

                            <div class="form-group">
                                <label for="serviceSelect">Select Service *</label>
                                <select id="serviceSelect" required>
                                    <option value="">Choose a service...</option>
                                </select>
                                <div class="service-details-preview">
                                    <span>Price: <strong id="servicePrice">GHS 0</strong></span>
                                    <span>Duration: <strong id="serviceDuration">-</strong></span>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>üì∏ Reference Photo (Optional)</label>
                                <div class="file-upload-wrapper">
                                    <input type="file" id="referencePhoto" accept="image/*" class="file-input">
                                    <label for="referencePhoto" class="file-label">
                                        <span class="upload-icon">üì§</span>
                                        <span>Upload a photo of your desired style</span>
                                    </label>
                                </div>
                                <div id="photoPreview" class="photo-preview" style="display: none;">
                                    <img id="previewImage" src="" alt="Preview">
                                    <button type="button" class="remove-photo" onclick="removePhoto()">√ó</button>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="specialRequests">Special Requests (Optional)</label>
                                <textarea id="specialRequests" rows="4" placeholder="Any specific requirements or preferences..."></textarea>
                            </div>
                        </div>

                        <!-- Step 3: Date & Time -->
                        <div class="form-section" data-section="3">
                            <div class="section-header">
                                <h3>üìÖ Select Date & Time</h3>
                                <p>Choose when you'd like to visit</p>
                            </div>

                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="appointmentDate">Appointment Date *</label>
                                    <input type="date" id="appointmentDate" required>
                                </div>

                                <div class="form-group">
                                    <label for="appointmentTime">Appointment Time *</label>
                                    <select id="appointmentTime" required>
                                        <option value="">Choose time...</option>
                                    </select>
                                </div>
                            </div>

                            <div class="time-note">
                                <span class="note-icon">‚ö°</span>
                                <p><strong>Off-peak discount:</strong> Book between 10AM-2PM on weekdays for 15% off!</p>
                            </div>

                            <div class="available-slots">
                                <h4>Available Time Slots</h4>
                                <div id="timeSlotGrid" class="time-slot-grid">
                                    <!-- Will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>

                        <!-- Step 4: Payment & Confirmation -->
                        <div class="form-section" data-section="4">
                            <div class="section-header">
                                <h3>üí≥ Payment & Confirmation</h3>
                                <p>Review your booking and choose payment method</p>
                            </div>

                            <!-- Booking Summary -->
                            <div class="booking-summary-card">
                                <h4>Booking Summary</h4>
                                <div class="summary-item">
                                    <span>Customer:</span>
                                    <strong id="summaryName">-</strong>
                                </div>
                                <div class="summary-item">
                                    <span>Phone:</span>
                                    <strong id="summaryPhone">-</strong>
                                </div>
                                <div class="summary-item">
                                    <span>Service:</span>
                                    <strong id="summaryService">-</strong>
                                </div>
                                <div class="summary-item">
                                    <span>Date:</span>
                                    <strong id="summaryDate">-</strong>
                                </div>
                                <div class="summary-item">
                                    <span>Time:</span>
                                    <strong id="summaryTime">-</strong>
                                </div>
                                <div class="summary-divider"></div>
                                <div class="summary-item total-row">
                                    <span>Total Amount:</span>
                                    <strong id="summaryTotal" class="total-amount">GHS 0</strong>
                                </div>
                                <div class="summary-item">
                                    <span class="points-badge">üéÅ Points you'll earn: <strong id="summaryPoints">0</strong></span>
                                </div>
                            </div>

                            <!-- Payment Method -->
                            <div class="payment-methods">
                                <h4>Select Payment Method</h4>
                                <div class="payment-options">
                                    <label class="payment-card">
                                        <input type="radio" name="paymentMethod" value="momo" checked>
                                        <div class="payment-content">
                                            <span class="payment-icon">üì±</span>
                                            <div>
                                                <strong>Mobile Money</strong>
                                                <small>MTN MoMo, Vodafone Cash, AirtelTigo</small>
                                            </div>
                                        </div>
                                    </label>

                                    <label class="payment-card">
                                        <input type="radio" name="paymentMethod" value="card">
                                        <div class="payment-content">
                                            <span class="payment-icon">üí≥</span>
                                            <div>
                                                <strong>Card Payment</strong>
                                                <small>Visa, Mastercard, Verve</small>
                                            </div>
                                        </div>
                                    </label>

                                    <label class="payment-card">
                                        <input type="radio" name="paymentMethod" value="salon">
                                        <div class="payment-content">
                                            <span class="payment-icon">üí∞</span>
                                            <div>
                                                <strong>Pay at Salon</strong>
                                                <small>Cash or card at appointment</small>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <div class="terms-checkbox">
                                <input type="checkbox" id="termsAgree" required>
                                <label for="termsAgree">I agree to the <a href="#">Terms & Conditions</a> and <a href="#">Cancellation Policy</a></label>
                            </div>
                        </div>

                        <!-- Form Navigation -->
                        <div class="form-navigation">
                            <button type="button" class="btn btn-secondary" id="prevButton" style="display: none;">
                                ‚Üê Previous
                            </button>
                            <button type="button" class="btn btn-primary" id="nextButton">
                                Next ‚Üí
                            </button>
                            <button type="submit" class="btn btn-primary btn-large" id="submitButton" style="display: none;">
                                Confirm Booking ‚úì
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Sidebar Summary (Desktop) -->
                <div class="booking-sidebar">
                    <div class="sidebar-card sticky-card">
                        <h4>üí∞ Price Summary</h4>
                        <div class="price-row">
                            <span>Service Price</span>
                            <strong id="sidebarPrice">GHS 0</strong>
                        </div>
                        <div class="price-row">
                            <span>Duration</span>
                            <strong id="sidebarDuration">-</strong>
                        </div>
                        <div class="price-row discount-row" id="discountRow" style="display: none;">
                            <span>üéâ Off-Peak Discount (15%)</span>
                            <strong id="sidebarDiscount">- GHS 0</strong>
                        </div>
                        <div class="summary-divider"></div>
                        <div class="price-row total-row">
                            <span>Total</span>
                            <strong id="sidebarTotal" class="total-amount">GHS 0</strong>
                        </div>
                        <div class="points-info">
                            <span class="points-badge">üéÅ You'll earn <strong id="sidebarPoints">0</strong> points</span>
                        </div>
                    </div>

                    <div class="sidebar-card">
                        <h4>üìû Need Help?</h4>
                        <p>Contact us if you have any questions</p>
                        <a href="tel:+233XXXXXXXXX" class="btn btn-secondary btn-small btn-block">Call Us</a>
                        <a href="https://wa.me/233XXXXXXXXX" class="btn btn-secondary btn-small btn-block">WhatsApp</a>
                    </div>

                    <div class="sidebar-card trust-card">
                        <div class="trust-item">
                            <span>üîí</span>
                            <div>
                                <strong>Secure Booking</strong>
                                <small>Your data is protected</small>
                            </div>
                        </div>
                        <div class="trust-item">
                            <span>‚úÖ</span>
                            <div>
                                <strong>Instant Confirmation</strong>
                                <small>Get SMS & email alerts</small>
                            </div>
                        </div>
                        <div class="trust-item">
                            <span>üéÅ</span>
                            <div>
                                <strong>Loyalty Rewards</strong>
                                <small>Earn with every booking</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content success-modal">
            <div class="success-animation">
                <div class="success-icon">‚úì</div>
            </div>
            <h2>Booking Confirmed! üéâ</h2>
            <p>Your appointment has been successfully booked.</p>

            <div id="bookingDetails" class="booking-details-modal"></div>

            <div class="modal-actions">
                <button onclick="closeModal()" class="btn btn-primary btn-large">Done</button>
                <button onclick="window.location.href='booking.html'" class="btn btn-secondary">Book Another</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2026 Ghana Salon Booking. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="translations.js"></script>
    <script>
        // Multi-step form functionality
        let currentStep = 1;
        const totalSteps = 4;

        function showStep(step) {
            // Hide all sections
            document.querySelectorAll('.form-section').forEach(section => {
                section.classList.remove('active');
            });

            // Show current section
            document.querySelector(`[data-section="${step}"]`).classList.add('active');

            // Update progress
            document.querySelectorAll('.progress-step').forEach((stepEl, index) => {
                if (index < step) {
                    stepEl.classList.add('active');
                } else {
                    stepEl.classList.remove('active');
                }
            });

            // Update buttons
            document.getElementById('prevButton').style.display = step === 1 ? 'none' : 'inline-flex';
            document.getElementById('nextButton').style.display = step === totalSteps ? 'none' : 'inline-flex';
            document.getElementById('submitButton').style.display = step === totalSteps ? 'inline-flex' : 'none';

            // Update summary on final step
            if (step === 4) {
                updateSummary();
            }

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function updateSummary() {
            document.getElementById('summaryName').textContent = document.getElementById('customerName').value || '-';
            document.getElementById('summaryPhone').textContent = document.getElementById('customerPhone').value || '-';

            const serviceSelect = document.getElementById('serviceSelect');
            const serviceName = serviceSelect.options[serviceSelect.selectedIndex]?.text || '-';
            document.getElementById('summaryService').textContent = serviceName;

            const date = document.getElementById('appointmentDate').value;
            document.getElementById('summaryDate').textContent = date ? new Date(date).toLocaleDateString('en-GB') : '-';

            document.getElementById('summaryTime').textContent = document.getElementById('appointmentTime').value || '-';

            const price = document.getElementById('servicePrice').textContent;
            document.getElementById('summaryTotal').textContent = price;

            const points = Math.floor(parseInt(price.replace(/[^0-9]/g, '')) / 10);
            document.getElementById('summaryPoints').textContent = points;
        }

        function validateStep(step) {
            const section = document.querySelector(`[data-section="${step}"]`);
            const inputs = section.querySelectorAll('input[required], select[required]');

            for (let input of inputs) {
                if (!input.value.trim()) {
                    input.focus();
                    alert(`Please fill in all required fields`);
                    return false;
                }
            }
            return true;
        }

        document.getElementById('nextButton')?.addEventListener('click', () => {
            if (validateStep(currentStep)) {
                currentStep++;
                showStep(currentStep);
            }
        });

        document.getElementById('prevButton')?.addEventListener('click', () => {
            currentStep--;
            showStep(currentStep);
        });

        // Reference photo preview
        document.getElementById('referencePhoto')?.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    document.getElementById('previewImage').src = event.target.result;
                    document.getElementById('photoPreview').style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        });

        function removePhoto() {
            document.getElementById('referencePhoto').value = '';
            document.getElementById('photoPreview').style.display = 'none';
        }

        // Initialize
        showStep(1);
    </script>
</body>
</html>